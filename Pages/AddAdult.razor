@page "/adultAdd"
@attribute [Authorize(Policy = "adultaddaccess")]
@using DNPAssignment.Models
@using DNPAssignment.Data
@inject IAdultHandler AdultHandler
@inject NavigationManager NavigationManager

<h3>AddAdult</h3>

<EditForm Model="@newAdult" OnValidSubmit="@addNewAdult">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="form-group">
        Job Title:<br />
        <InputTextArea @bind-Value="newAdult.JobTitle" />
    </div>
    <div class="form-group">
        First Name:<br />
        <InputTextArea @bind-Value="newAdult.FirstName" />
    </div>
    <div class="form-group">
        Last Name:<br />
        <InputTextArea @bind-Value="newAdult.LastName" />
    </div>
    <div class="form-group">
        Hair Colour:<br />
        <InputTextArea @bind-Value="newAdult.HairColor" />
    </div>
    <div class="form-group">
        Eye Colour:<br />
        <InputTextArea @bind-Value="newAdult.EyeColor" />
    </div>
    <div class="form-group">
        Age:<br />
        <InputNumber @bind-Value="newAdult.Age" />
    </div>
    <div class="form-group">
        Weight:<br />
        <InputNumber @bind-Value="newAdult.Weight" />
    </div>
    <div class="form-group">
        Height:<br />
        <InputNumber @bind-Value="newAdult.Height" />
    </div>
    <div class="form-group">
        Sex:<br />
        <InputTextArea @bind-Value="newAdult.Sex" />
    </div>
    <p class="action">
        <button class="btn btn-outline-dark" type="submit">Create</button>
    </p>
</EditForm>

@code {
    private Adult newAdult = new Adult();

    private void addNewAdult() {
        AdultHandler.AddAdult(newAdult);
        NavigationManager.NavigateTo("/Adults");
    }
}
